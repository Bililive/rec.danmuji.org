---
title: 常见问题
redirect_from:
  - /link/faq
  - /link/faq/
---

## 目录

- [基本使用](#基本使用)
- [修复相关](#修复相关)
- [弹幕录制](#弹幕录制)
- [后期处理](#后期处理)

## 基本使用

### 可以用录播姬录自己直播间吗？

可以，但是**不推荐**。  
直播数据从B站服务器绕一圈容易出现各种玄学问题，并且会受到网络波动不可控因素影响。  
建议使用直播软件自带的录制功能。

### 为什么录播姬崩溃了/无法运行？

录播姬需要微软的 .NET Framework 4.7.2 才能运行，如果没有安装，录播姬在安装和启动时会弹窗提醒。

有的杀毒软件有时会后台静默删除一部分录播姬的文件，如果打开软件后直接崩溃或没有任何反应，请检查是否是杀毒软件的问题。

### 录播时电脑可以睡眠、休眠吗？

不可以。电脑休眠、睡眠时不会运行任何程序，录播姬也不能运行。

可以关闭屏幕，不会影响录播姬正常工作。

### 为什么添加的房间、修改的设置没有被保存？

有的杀毒软件有时会后台静默阻止录播姬写入文件，可以检查软件的日志页里没有配置文件保存出错相关的记录，检查是否是杀毒软件阻止了写入配置文件。

### 录播姬录制的画质是什么？可以提升录制码率吗？

录播姬录制的是直播的“原画”画质，即主播直播的未被B站直播二压过的原始画面。  
录播姬是通过下载直播流的方式录制的，没有对直播数据进行二次压制，因此也不能“设置码率”。

### 录制文件格式可以改吗？

不能修改，因为直播流就是 FLV 格式。  
关于如何转换格式，见本 FAQ 的 [后期处理](#后期处理) 部分。

### 录播姬的设置保存到哪里了？

所有设置全部保存到了工作目录里的 `config.json` 文件。

### 录播姬的设置修改后是实时生效吗？

大部分设置在修改后是实时生效的。如：文件自动分段的时间长度、输出的文件名格式、是否保存弹幕原始数据等。

小部分设置是下一次开始录制时生效，不会影响已经开始的录制。如：录制模式、是否录制弹幕等。

### 录播姬可以多开吗？

可以，只要选择不同的工作目录就可以多开，多个录播姬进程之间互不影响。

### 为什么添加的房间没有保存？

打开录播姬后发现上次添加的房间消失了，请检查是否是杀毒软件在后台静默阻止了录播姬写入配置文件。

### 为什么不录弹幕也会连接弹幕服务器？

录播姬主要依靠接收B站服务器推送的开播通知来实现对开播的检测。  
这样相比定时主动检查更不容易被屏蔽，开播状态更新更及时，延迟通常在 5 秒以内。

### 为什么设置了自动录制却没有自动开始录制？

点击停止录制按钮后会暂停本次直播的自动录制，直到主播结束直播。  
点击开始录制按钮可以立刻开始录制，并重新启用本次直播的自动录制。

如果IP被B站屏蔽了，也会导致无法录制。

### 为什么录播姬日志中显示启动录制出错 NotFound ？

主播在网页上点了开始直播，直播间状态是直播中，但是还没有在直播软件里开始推流的时候，直播服务器会返回 404 Not Found，是正常情况。

偶尔会有主播在直播，但是直播服务器也返回 404 Not Found 的情况，是B站的直播服务器的问题。

### 为什么录播姬日志中显示被屏蔽？如何解决？

如果向B站发送的API请求太多就有可能被屏蔽IP，一般来说不建议监控、录制太多直播间，同时也不建议使用各种B站挂机、签到工具。  
有的人只录1、2个直播间就会被屏蔽，有的人录很多直播间也不会被屏蔽，具体的判定规则是迷。

录播姬在检测到被屏蔽后会主动暂停所有请求，直到检测到屏蔽解除。

如果是一般家庭网络，重启光猫（或路由器）通常会分配一个新的出口IP地址。  
如果重启光猫后还是被屏蔽的状态，那就只能等屏蔽时间过期。被屏蔽的时长通常在几分钟到几小时不等。

### 为什么录制状态颜色一直是白色/淡蓝色？

没有统计数据的时候会显示为淡蓝色。

录制模式设置为 原始数据模式 的时候，直播数据不经过解析和处理直接写入硬盘，所以也无法统计录制的速度等信息。

### 为什么录制状态颜色一直是红色/橙色？

理想情况下录制的速度比应该为接近 100% 颜色为绿色，录制速度比与 100% 相差越大颜色就越红。  
如果平均每秒钟录制了 1 秒直播数据速度比则为 100%，如果平均每秒钟录了 0.5 秒直播数据速度比则为 50%。

如果录制速度在 100% 上下猛烈波动但总体平均差不多为 100%，则说明你的网络或主播的网络不稳定，但不影响最终录出的视频文件。  
不推荐使用 WiFi 网络进行录播，尤其在 WiFi 网络较多的地区会互相干扰很不稳定。

如果录制速度长时间低于 100% 则说明录播的网速跟不上主播直播的速度、或硬盘的写入速度跟不上直播速度，无法正常录制。

### 怎么才能不每次打开录播姬都确认录制目录？

复制一份录播姬的快捷方式，右键快捷方式、点击属性，在“目标”的最后添加启动参数 `run "路径"`。  
最终的效果是： `C:\Users\用户名\AppData\Local\BililiveRecorder\BililiveRecorder.WPF.exe run "E:\录播"`  
使用这个带有参数的快捷方式启动的时候就会自动选择参数里写的录制路径。

注：1.3 以前的版本的参数为 `-w "路径"`

注：不保证启动参数以后一直不会变

## 修复相关

### 录播姬的录播修复能修什么问题？原理是什么？

关于录播修复系统的介绍和说明，见 [录播修复介绍](/docs/process/)

### 设置里的两种录制模式有什么区别？

关于 标准模式 和 原始数据模式 的区别，见 [录制模式](/docs/basic/record_mode/)

### 使用工具箱里的修复功能修复后，视频还有问题怎么办？

关于反馈修复问题，见 [录播修复问题反馈](/docs/process/feedback/)

### 为什么设置了自动分段却没有分段？

如果使用的录制模式是原始数据模式，分段功能是无效的。   
如果需要在原始数据模式下分段，需要手动结束录制再开始录制。

### 为什么没有设置自动分段也分成了很多文件？

有很多原因会造成录播文件分段，主要分为两大类：因为网络问题导致连接断开、录播修复系统主动切分或断开。

如果录播电脑的网络不稳定，录播姬与直播服务器之间的连接可能会被断开，造成文件分段的情况。

偶尔B站直播服务器不稳定，虽然连接没有断开但是直播服务器不再发送直播数据，录播姬在检测到直播服务器停止发送直播数据后会主动断开连接。

录播姬的修复系统在检测到直播数据里画面的分辨率有变动时（实际为解码参数有变动时），会触发分割文件，这样每个文件里的解码参数都是一致的。  
如果直接保存到同一个文件里的话，视频的后半部分可能会出现花屏、绿屏等无法播放的情况。  
PK 直播会因为这个原因频繁分段。

录播姬的修复系统在检测到一些无法修复的问题时（如缺少视频解码参数、无法自动修复的时间戳错误等），会主动断开与直播服务器的连接，防止录出无法播放的文件。  
断开后会自动重新开始录制。

#### 拓展问题：是否可以用原始数据模式来避免修复系统切分文件？

虽然原始数据模式确实不会切分文件，但是如果遇到了解码参数变动的问题会导致视频后半段无法播放。  
可以使用录播姬工具箱里的修复功能进行修复，但是修复之后还是会切分成多个文件。  
直接使用原始数据模式录制还有潜在的录出有无法修复的问题的文件的可能性。

关于 标准模式 和 原始数据模式 的区别，见 [录制模式](/docs/basic/record_mode/)

### 为什么录播姬录出来的文件比其他方法录出来的小？

录播姬的录播修复系统会删除直播数据中没有作用的无效空数据以减小文件大小。  
如果使用录播姬的工具箱修复文件后发现输出文件比原文件小很多，也是因为这个原因。

被删除的无效数据是对视频播放无任何影响的，内容通常是 `0xFF`。  
可以通过使用二进制文件编辑器打开原文件搜索 `FF FF FF FF FF` 来验证是存在无效数据的。

### 为什么录播姬的录制状态里接收数据量比写入数据量大？

见上一个问题，因为录播姬修复系统会删除直播数据中没有作用的无效空数据以减小文件大小。

### 如何才能保证录播一定没有问题？

如果条件允许，建议在主播一侧录制，**只有主播在直播软件里录才能保证录出的文件一定没有问题**。

其他有助于提升可靠性的方法有：

- 只添加、监控、录制一个主播
  - 添加太多直播间有可能会被B站屏蔽IP，导致无法录制
- 人工值守，观察录制状态
  - 虽然我对我写的代码很有信心，但是万一没触发自动录制可以手动开始录制
- 同时使用标准模式和原始数据模式录制（可以在不同目录多开录播姬）
  - 标准模式会避免录出有已知无法自动修复的问题的文件
  - 原始数据模式能避免因为遇到新的未知问题导致文件修坏的可能
  - 两种录制模式的具体区别见 [录制模式](/docs/basic/record_mode/)
- 多人在多地录制
  - 多个备份总是好的
  - 如果一个B站直播服务器出问题，不一定所有服务器都有问题

## 弹幕录制

### 录制的弹幕在哪里？

录制弹幕功能默认为关闭状态，如有需要可以在全局设置或单直播间的设置里启用。  
修改弹幕录制设置之后，在下一次开始录制时生效。

弹幕会保存为 XML 格式，弹幕文件与录制的视频文件的文件名相同。

关于录制弹幕功能，见 [弹幕录制](/docs/basic/danmaku/)

### 弹幕文件怎么查看？

录播姬输出的弹幕 XML 可以直接在浏览器里打开查看。  
不支持 IE 浏览器等老旧浏览器，如果打开后显示为纯文本或显示为一堆代码，建议使用最新版本的 Chrome Edge Firefox 等浏览器。

### 怎么让播放器加载弹幕？

录播姬录制的弹幕XML文件兼容B站主站弹幕XML格式。  
先把录播姬输出弹幕XML文件转换为ASS字幕文件，大部分支持字幕的播放器会自动加载同名的字幕文件。  
或者也可以使用能识别B站主站弹幕XML文件的特殊播放器。

转换工具、推荐使用的播放器见 [相关软件](/docs/basic/related/)

### 怎么把弹幕压制到视频里？

录播姬录制的弹幕XML文件兼容B站主站弹幕XML格式。  
先把录播姬输出弹幕XML文件转换为ASS字幕文件，再按照常规压制字幕的方式进行压制。

具体压制方法建议搜索ASS字幕压制教程。  
转换工具、视频处理工具见 [相关软件](/docs/basic/related/)

## 后期处理

推荐关于视频、视频格式的科普视频：

- [BV1nt411Q7S6 《【科普】“视频”是怎么来的？H.264、码率这些词又是什么意思？》极客湾Geekerwan](https://www.bilibili.com/video/BV1nt411Q7S6)
- [BV1ws41157f8 《高画质的背后——视频的封装与编码》影视飓风](https://www.bilibili.com/video/BV1ws41157f8)

下面提到的所有软件的下载地址都可在 [相关软件](/docs/basic/related/) 页面找到

如果录播存在问题，一旦经过其他音视频处理软件处理，就无法修复了。  
其他软件会进一步损坏存在问题的录播文件，导致问题无法被录播姬的修复系统修复。  
如果录播存在问题，需要在进行格式转换、剪辑等操作之前修复。

### 怎么把录播文件转换成MP4？

视频文件有封装格式和编码格式的区别，从 FLV 转换成 MP4 只需要转封装，不需要重新编码。  
重新编码既花时间，又会降低画质，完全没有必要。

哔哩哔哩主站投稿可以直接上传 FLV 文件，不需要转换格式。  
简单的视频切割也可以直接处理 FLV 文件，不需要提前转换格式。

可以使用小丸工具箱的 “封装” 功能进行转换。

可以使用 OBS Studio 的 “录像转封装” 功能进行转换。

1. 点击 OBS Studio 菜单的 “文件”、“录像转封装”
2. 把录播姬录制的 FLV 文件拖进转封装窗口
3. 点击 “转换封装”

可以使用 ffmpeg 进行转换，命令举例：

```sh
ffmpeg -i input.flv -c copy output.mp4
```

### 如何无损切割录播文件？

推荐使用 lossless-cut

或者使用 ffmpeg 命令，举例：

剪出 input.flv 的 5分30秒 到 15分30秒 共 10分 的视频：

```sh
# 输出 FLV
ffmpeg -ss 00:05:30.0 -t 00:10:00.0 -i input.flv -c copy output.flv
# 或输出 MP4
ffmpeg -ss 00:05:30.0 -t 00:10:00.0 -i input.flv -c copy output.mp4
```
